const archs=document.querySelectorAll(".arch"),main=document.querySelector(".main2"),content=document.querySelector(".border_second"),map=document.querySelector(".map"),menu_items=document.querySelectorAll(".menu__item a"),menu=document.querySelector(".menu"),archHidden=document.querySelectorAll(".arch__hidden"),empty=document.querySelector(".middle-dark");main.style.marginTop=archs[1].scrollHeight-empty.scrollHeight-document.querySelector(".dark-wrap").scrollHeight+"px",archHidden.forEach(e=>{e.style.marginTop=archs[1].scrollHeight-empty.scrollHeight-document.querySelector(".dark-wrap").scrollHeight+"px"}),window.addEventListener("resize",(function(){archs[0].scrollTop=content.scrollTop,archs[1].scrollTop=content.scrollTop,archs[2].scrollTop=content.scrollTop,main.style.marginTop=archs[1].scrollHeight-empty.scrollHeight-document.querySelector(".dark-wrap").scrollHeight+"px",archHidden.forEach(e=>{e.style.marginTop=archs[1].scrollHeight-empty.scrollHeight-document.querySelector(".dark-wrap").scrollHeight+"px"})})),content.addEventListener("scroll",(function(){archs[0].scrollTop=content.scrollTop,archs[1].scrollTop=content.scrollTop,archs[2].scrollTop=content.scrollTop;const e=map.getBoundingClientRect().top;e+(map.clientHeight-140)<=window.innerHeight&&e>=0||e<=0?document.querySelector(".noise").style.zIndex="0":(document.querySelector(".noise").style.zIndex="5",document.querySelector(".arch__hidden").classList.remove("arch__visible")),[document.getElementById("project"),document.getElementById("medusa"),document.getElementById("expect"),document.getElementById("roadmap"),document.querySelector(".dark-wrap")].forEach(e=>{let t=e.getBoundingClientRect().top;t+e.clientHeight/2<=window.innerHeight&&t>=0&&menu_items.forEach(t=>{t.hash.substring(1)==e.id&&t.parentNode.classList.add("menu__active"),t.hash.substring(1)!=e.id&&t.parentNode.classList.remove("menu__active")})})}));let href,artists=document.querySelector(".artists"),cards=document.querySelector(".cards"),expect=document.querySelector(".expect__text"),top2=document.querySelector(".top"),close=document.querySelector(".artists__close");if(artists.style.display="none",content.addEventListener("click",(function(e){let t=new Array(...cards.childNodes);if(e.target==cards||t.includes(e.target))try{top2.scrollIntoViewIfNeeded(!1),archs[1].scrollTop-=30}catch(e){top2.scrollIntoView({block:"center"}),archs[1].scrollTop+=archs[1].clientHeight/2-70}})),cards.addEventListener("click",(function(){archs[1].classList.toggle("arch__middle_anim"),cards.classList.toggle("cards__hidden"),cards.classList.toggle("cards__visible"),expect.classList.toggle("expect__hidden"),expect.classList.toggle("expect__visible"),artists.style.display="block",artists.classList.toggle("artists__visible"),artists.classList.toggle("artists__hidden"),setTimeout(()=>expect.style.display="none",900),setTimeout(()=>cards.style.display="none",900)})),close.addEventListener("click",(function(){archs[1].classList.toggle("arch__middle_anim"),cards.classList.toggle("cards__hidden"),cards.classList.toggle("cards__visible"),cards.style.display="flex",artists.classList.toggle("artists__visible"),artists.classList.toggle("artists__hidden"),expect.classList.toggle("expect__hidden"),expect.classList.toggle("expect__visible"),expect.style.display="block",setTimeout(()=>artists.style.display="none",800)})),window.location.href.search("#")>0){href=window.location.href.substring(window.location.href.search("#")+1);const e=document.getElementById(href),t=menu.offsetHeight,s=e.getBoundingClientRect().top-t;menu_items.forEach(e=>{"menu__active"==e.parentNode.classList[1]&&e.parentNode.classList.remove("menu__active"),e.hash.substring(1)==href&&e.parentNode.classList.add("menu__active")}),setTimeout(()=>content.scrollTop=s,500)}let balls=document.querySelectorAll(".map__circle");map.addEventListener("mousemove",(function(e){balls.forEach(t=>{let s=t.getBoundingClientRect().x,c=t.getBoundingClientRect().y;t.style.left=e.pageX-t.offsetWidth/2-s+"px",t.style.top=e.pageY-t.offsetHeight/2-c+"px"})})),menu_items.forEach(e=>e.addEventListener("click",(function(e){if("#"!=this.getAttribute("href")[0])return 0;e.preventDefault(),href=this.getAttribute("href").substring(1),menu_items.forEach(e=>{"menu__active"==e.parentNode.classList[1]&&e.parentNode.classList.remove("menu__active")}),this.parentNode.classList.add("menu__active");const t=document.getElementById(href),s=menu.offsetHeight,c=t.getBoundingClientRect().top-s;content.scrollBy({top:c,behavior:"smooth"})})));